LeftButtox
#0978
cs 121 group

Pepito — Yesterday at 7:15 PM
:cryIgnore:
for 122a
tig ⵣ — Yesterday at 7:16 PM
not yet
thats a later problem lol
gonna be painful
Pepito — Yesterday at 7:18 PM
facts
tig ⵣ — Yesterday at 8:27 PM
gonna go piss and get laundry then hop on for 30
You missed a call from 
tig ⵣ
 that lasted a few seconds.
 — Yesterday at 8:34 PM
tig ⵣ — Yesterday at 8:35 PM
nvm misread
lol
Pepito — Yesterday at 8:36 PM
oh shit today?
tig ⵣ — Yesterday at 8:37 PM
nah like it was for 30 anyway
Pepito — Yesterday at 8:37 PM
i can hop on but in a bit
was about to head to bed LOL
Pepito — Yesterday at 8:37 PM
oh ight fs
tig ⵣ — Yesterday at 8:37 PM
lmao nah get some rest
i think we can totally finish tmr anyway
Pepito — Yesterday at 8:37 PM
it's impossible man
yeee i believe
i am free all day i think
since will leave 122a hw to friday
:prayge:
tig ⵣ — Yesterday at 8:37 PM
yessir
LeftButtox — Today at 1:13 AM
ok, i should be open to work most of the day tmr
Pepito — Today at 2:45 AM
sweet, just ping
saidrick — Today at 10:49 AM
when we meeting today?
LeftButtox — Today at 10:49 AM
Say 12?
saidrick — Today at 10:49 AM
yee
works for me
Pepito — Today at 11:21 AM
will hop a bit past 12
LeftButtox — Today at 11:57 AM
ready whenever
saidrick — Today at 12:01 PM
i'll be on in 5 min
LeftButtox — Today at 12:01 PM
okiay
saidrick — Today at 12:05 PM
aight me ready
LeftButtox
 started a call.
 — Today at 12:05 PM
LeftButtox — Today at 12:07 PM
https://prod.liveshare.vsengsaas.visualstudio.com/join?4EA6C72754D0EED77E23C9DE5A779D2A68C4
Visual Studio Code for the Web
Build with Visual Studio Code, anywhere, anytime, entirely in your browser.
Pepito — Today at 12:09 PM
nltk
tig ⵣ — Today at 12:15 PM
https://stackoverflow.com/questions/46057942/how-to-get-the-text-tokens-when-using-beautifulsoup
Stack Overflow
How to get the text tokens when using Beautifulsoup
I'm a newbee on text mining and working on a toy project to scrapy the text from website and split it into tokens. However, after downloading content using Beautifulsoup, I failed to split it with ...
Image
LeftButtox — Today at 12:22 PM
http://jmausolf.github.io/courses/cfss/webdata_scrape_py_b.html#Elementary-Web-Scraping
Pepito — Today at 12:24 PM
Image
Image
Image
Image
LeftButtox
 pinned 
a message
 to this channel. See all 
pinned messages
.
 — Today at 12:27 PM
Pepito — Today at 12:31 PM
^
Pepito — Today at 12:42 PM
https://edstem.org/us/courses/21429/discussion/1418898?answer=3218885
Ed — Digital Learning Platform
Ed is the next generation digital learning platform that redefines collaboration, communication, and computational thinking
LeftButtox — Today at 12:53 PM
``````
<head><style class="darkreader darkreader--fallback" media="screen"></style><style class="darkreader darkreader--text" media="screen"></style><style class="darkreader darkreader--invert" media="screen">.jfk-bubble.gtx-bubble, .captcheck_answer_label > input + img, span#closed_text > img[src^="https://www.gstatic.com/images/branding/googlelogo"], span[data-href^="https://www.hcaptcha.com/"] > #icon, #bit-notification-bar-iframe, ::-webkit-calendar-picker-indicator {
    filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
}</style><style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
... (13 KB left)
Expand
message.txt
63 KB
``````
<body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index" accesskey="I">index</a></li>
... (287 KB left)
Expand
message.txt
337 KB
tig ⵣ — Today at 1:11 PM
pip install html5lib
Pepito — Today at 1:28 PM
RAW TEXT: 

<built-in method readlines of _io.TextIOWrapper object at 0x7f047ebf23a8>


Navigation


index


Navigation


index
Beautiful Soup 4.9.0 documentation »
Beautiful Soup Documentation
LeftButtox — Today at 1:37 PM
<head><style class="darkreader darkreader--fallback" media="screen"></style><style class="darkreader darkreader--text" media="screen"></style><style class="darkreader darkreader--invert" media="screen">.jfk-bubble.gtx-bubble, .captcheck_answer_label > input + img, span#closed_text > img[src^="https://www.gstatic.com/images/branding/googlelogo"], span[data-href^="https://www.hcaptcha.com/"] > #icon, #bit-notification-bar-iframe, ::-webkit-calendar-picker-indicator {
    filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
}</style><style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
... (13 KB left)
Expand
message.txt
63 KB
<body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index" accesskey="I">index</a></li>
... (287 KB left)
Expand
message.txt
337 KB
﻿
<body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="#">Beautiful Soup 4.9.0 documentation</a> »</li>
        <li class="nav-item nav-item-this"><a href="">Beautiful Soup Documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="beautiful-soup-documentation">
<span id="manual"></span><h1>Beautiful Soup Documentation<a class="headerlink" href="#beautiful-soup-documentation" title="Permalink to this headline">¶</a></h1>
<img alt="&quot;The Fish-Footman began by producing from under his arm a great letter, nearly as large as himself.&quot;" class="align-right" src="_images/6.1.jpg">
<p><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a> is a
Python library for pulling data out of HTML and XML files. It works
with your favorite parser to provide idiomatic ways of navigating,
searching, and modifying the parse tree. It commonly saves programmers
hours or days of work.</p>
<p>These instructions illustrate all major features of Beautiful Soup 4,
with examples. I show you what the library is good for, how it works,
how to use it, how to make it do what you want, and what to do when it
violates your expectations.</p>
<p>This document covers Beautiful Soup version 4.11.0. The examples in
this documentation were written for Python 3.8.</p>
<p>You might be looking for the documentation for <a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html">Beautiful Soup 3</a>.
If so, you should know that Beautiful Soup 3 is no longer being
developed and that all support for it was dropped on December
31, 2020. If you want to learn about the differences between Beautiful
Soup 3 and Beautiful Soup 4, see <a class="reference internal" href="#porting-code-to-bs4">Porting code to BS4</a>.</p>
<p>This documentation has been translated into other languages by
Beautiful Soup users:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/">这篇文档当然还有中文版.</a></p></li>
<li><p>このページは日本語で利用できます(<a class="reference external" href="http://kondou.com/BS4/">外部リンク</a>)</p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ko/">이 문서는 한국어 번역도 가능합니다.</a></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ptbr">Este documento também está disponível em Português do Brasil.</a></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ru/">Эта документация доступна на русском языке.</a></p></li>
</ul>
<div class="section" id="getting-help">
<h2>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>If you have questions about Beautiful Soup, or run into problems,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups#!forum/beautifulsoup">send mail to the discussion group</a>. If
your problem involves parsing an HTML document, be sure to mention
<a class="reference internal" href="#diagnose"><span class="std std-ref">what the diagnose() function says</span></a> about
that document.</p>
</div>
</div>
<div class="section" id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>Here’s an HTML document I’ll be using as an example throughout this
document. It’s part of a story from <cite>Alice in Wonderland</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_doc</span> <span class="o">=</span> <span class="s2">"""&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="s2">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="s2">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="s2">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="s2">and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="s2">"""</span>
</pre></div>
</div>
<p>Running the “three sisters” document through Beautiful Soup gives us a
<code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object, which represents the document as a nested
data structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;html&gt;</span>
<span class="c1">#  &lt;head&gt;</span>
<span class="c1">#   &lt;title&gt;</span>
<span class="c1">#    The Dormouse's story</span>
<span class="c1">#   &lt;/title&gt;</span>
<span class="c1">#  &lt;/head&gt;</span>
<span class="c1">#  &lt;body&gt;</span>
<span class="c1">#   &lt;p class="title"&gt;</span>
<span class="c1">#    &lt;b&gt;</span>
<span class="c1">#     The Dormouse's story</span>
<span class="c1">#    &lt;/b&gt;</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#   &lt;p class="story"&gt;</span>
<span class="c1">#    Once upon a time there were three little sisters; and their names were</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;</span>
<span class="c1">#     Elsie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    ,</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;</span>
<span class="c1">#     Lacie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    and</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;</span>
<span class="c1">#     Tillie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    ; and they lived at the bottom of a well.</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#   &lt;p class="story"&gt;</span>
<span class="c1">#    ...</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#  &lt;/body&gt;</span>
<span class="c1"># &lt;/html&gt;</span>
</pre></div>
</div>
<p>Here are some simple ways to navigate that data structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">title</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># u'title'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># u'The Dormouse's story'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># u'head'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span>
<span class="c1"># &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># u'title'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">"link3"</span><span class="p">)</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>
</pre></div>
</div>
<p>One common task is extracting all the URLs found within a page’s &lt;a&gt; tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'a'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'href'</span><span class="p">))</span>
<span class="c1"># http://example.com/elsie</span>
<span class="c1"># http://example.com/lacie</span>
<span class="c1"># http://example.com/tillie</span>
</pre></div>
</div>
<p>Another common task is extracting all the text from a page:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>
<span class="c1"># The Dormouse's story</span>
<span class="c1">#</span>
<span class="c1"># The Dormouse's story</span>
<span class="c1">#</span>
<span class="c1"># Once upon a time there were three little sisters; and their names were</span>
<span class="c1"># Elsie,</span>
<span class="c1"># Lacie and</span>
<span class="c1"># Tillie;</span>
<span class="c1"># and they lived at the bottom of a well.</span>
<span class="c1">#</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>Does this look like what you need? If so, read on.</p>
</div>
<div class="section" id="installing-beautiful-soup">
<h1>Installing Beautiful Soup<a class="headerlink" href="#installing-beautiful-soup" title="Permalink to this headline">¶</a></h1>
<p>If you’re using a recent version of Debian or Ubuntu Linux, you can
install Beautiful Soup with the system package manager:</p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python3</kbd>-<kbd class="kbd docutils literal notranslate">bs4</kbd></kbd></p>
<p>Beautiful Soup 4 is published through PyPi, so if you can’t install it
with the system packager, you can install it with <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> or
<code class="docutils literal notranslate"><span class="pre">pip</span></code>. The package name is <code class="docutils literal notranslate"><span class="pre">beautifulsoup4</span></code>. Make sure you use the
right version of <code class="docutils literal notranslate"><span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> for your Python version
(these may be named <code class="docutils literal notranslate"><span class="pre">pip3</span></code> and <code class="docutils literal notranslate"><span class="pre">easy_install3</span></code> respectively).</p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">easy_install</kbd> <kbd class="kbd docutils literal notranslate">beautifulsoup4</kbd></kbd></p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">beautifulsoup4</kbd></kbd></p>
<p>(The <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> package is <cite>not</cite> what you want. That’s
the previous major release, <a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html">Beautiful Soup 3</a>. Lots of software uses
BS3, so it’s still available, but if you’re writing new code you
should install <code class="docutils literal notranslate"><span class="pre">beautifulsoup4</span></code>.)</p>
<p>If you don’t have <code class="docutils literal notranslate"><span class="pre">easy_install</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span></code> installed, you can
<a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/download/4.x/">download the Beautiful Soup 4 source tarball</a> and
install it with <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">python</kbd> <kbd class="kbd docutils literal notranslate">setup.py</kbd> <kbd class="kbd docutils literal notranslate">install</kbd></kbd></p>
<p>If all else fails, the license for Beautiful Soup allows you to
package the entire library with your application. You can download the
tarball, copy its <code class="docutils literal notranslate"><span class="pre">bs4</span></code> directory into your application’s codebase,
and use Beautiful Soup without installing it at all.</p>
<p>I use Python 3.8 to develop Beautiful Soup, but it should work with
other recent versions.</p>
<div class="section" id="installing-a-parser">
<span id="parser-installation"></span><h2>Installing a parser<a class="headerlink" href="#installing-a-parser" title="Permalink to this headline">¶</a></h2>
<p>Beautiful Soup supports the HTML parser included in Python’s standard
library, but it also supports a number of third-party Python parsers.
One is the <a class="reference external" href="http://lxml.de/">lxml parser</a>. Depending on your setup,
you might install lxml with one of these commands:</p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python</kbd>-<kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">easy_install</kbd> <kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p>Another alternative is the pure-Python <a class="reference external" href="http://code.google.com/p/html5lib/">html5lib parser</a>, which parses HTML the way a
web browser does. Depending on your setup, you might install html5lib
with one of these commands:</p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python</kbd>-<kbd class="kbd docutils literal notranslate">html5lib</kbd></kbd></p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">easy_install</kbd> <kbd class="kbd docutils literal notranslate">html5lib</kbd></kbd></p>
<p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">html5lib</kbd></kbd></p>
<p>This table summarizes the advantages and disadvantages of each parser library:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%">
<col style="width: 35%">
<col style="width: 26%">
<col style="width: 21%">
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Parser</p></td>
<td><p>Typical usage</p></td>
<td><p>Advantages</p></td>
<td><p>Disadvantages</p></td>
</tr>
<tr class="row-even"><td><p>Python’s html.parser</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"html.parser")</span></code></p></td>
<td><ul class="simple">
<li><p>Batteries included</p></li>
<li><p>Decent speed</p></li>
<li><p>Lenient (As of Python 3.2)</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>Not as fast as lxml,
less lenient than
html5lib.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>lxml’s HTML parser</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"lxml")</span></code></p></td>
<td><ul class="simple">
<li><p>Very fast</p></li>
<li><p>Lenient</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>External C dependency</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>lxml’s XML parser</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"lxml-xml")</span></code>
<code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"xml")</span></code></p></td>
<td><ul class="simple">
<li><p>Very fast</p></li>
<li><p>The only currently supported
XML parser</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>External C dependency</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>html5lib</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"html5lib")</span></code></p></td>
<td><ul class="simple">
<li><p>Extremely lenient</p></li>
<li><p>Parses pages the same way a
web browser does</p></li>
<li><p>Creates valid HTML5</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>Very slow</p></li>
<li><p>External Python
dependency</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If you can, I recommend you install and use lxml for speed. If you’re
using a very old version of Python – earlier than 3.2.2 – it’s
<cite>essential</cite> that you install lxml or html5lib. Python’s built-in HTML
parser is just not very good in those old versions.</p>
<p>Note that if a document is invalid, different parsers will generate
different Beautiful Soup trees for it. See <a class="reference internal" href="#differences-between-parsers">Differences
between parsers</a> for details.</p>
</div>
</div>
<div class="section" id="making-the-soup">
<h1>Making the soup<a class="headerlink" href="#making-the-soup" title="Permalink to this headline">¶</a></h1>
<p>To parse a document, pass it into the <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code>
constructor. You can pass in a string or an open filehandle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"index.html"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;html&gt;a web page&lt;/html&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
</pre></div>
</div>
<p>First, the document is converted to Unicode, and HTML entities are
converted to Unicode characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Sacr&amp;eacute; bleu!&lt;/body&gt;&lt;/html&gt;"</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">))</span>
<span class="c1"># &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Sacré bleu!&lt;/body&gt;&lt;/html&gt;</span>
</pre></div>
</div>
<p>Beautiful Soup then parses the document using the best available
parser. It will use an HTML parser unless you specifically tell it to
use an XML parser. (See <a class="reference internal" href="#id17">Parsing XML</a>.)</p>
</div>
<div class="section" id="kinds-of-objects">
<h1>Kinds of objects<a class="headerlink" href="#kinds-of-objects" title="Permalink to this headline">¶</a></h1>
<p>Beautiful Soup transforms a complex HTML document into a complex tree
of Python objects. But you’ll only ever have to deal with about four
<cite>kinds</cite> of objects: <code class="docutils literal notranslate"><span class="pre">Tag</span></code>, <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code>, <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code>,
and <code class="docutils literal notranslate"><span class="pre">Comment</span></code>.</p>
<div class="section" id="tag">
<span id="id5"></span><h2><code class="docutils literal notranslate"><span class="pre">Tag</span></code><a class="headerlink" href="#tag" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Tag</span></code> object corresponds to an XML or HTML tag in the original document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b class="boldest"&gt;Extremely bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="nb">type</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.Tag'&gt;</span>
</pre></div>
</div>
<p>Tags have a lot of attributes and methods, and I’ll cover most of them
in <a class="reference internal" href="#navigating-the-tree">Navigating the tree</a> and <a class="reference internal" href="#searching-the-tree">Searching the tree</a>. For now, the most
important features of a tag are its name and attributes.</p>
<div class="section" id="name">
<h3>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p>Every tag has a name, accessible as <code class="docutils literal notranslate"><span class="pre">.name</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># 'b'</span>
</pre></div>
</div>
<p>If you change a tag’s name, the change will be reflected in any HTML
markup generated by Beautiful Soup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"blockquote"</span>
<span class="n">tag</span>
<span class="c1"># &lt;blockquote class="boldest"&gt;Extremely bold&lt;/blockquote&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>A tag may have any number of attributes. The tag <code class="docutils literal notranslate"><span class="pre">&lt;b</span>
<span class="pre">id="boldest"&gt;</span></code> has an attribute “id” whose value is
“boldest”. You can access a tag’s attributes by treating the tag like
a dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b id="boldest"&gt;bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span><span class="o">.</span><span class="n">b</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'boldest'</span>
</pre></div>
</div>
<p>You can access that dictionary directly as <code class="docutils literal notranslate"><span class="pre">.attrs</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">attrs</span>
<span class="c1"># {'id': 'boldest'}</span>
</pre></div>
</div>
<p>You can add, remove, and modify a tag’s attributes. Again, this is
done by treating the tag as a dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'verybold'</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'another-attribute'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">tag</span>
<span class="c1"># &lt;b another-attribute="1" id="verybold"&gt;&lt;/b&gt;</span>

<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'another-attribute'</span><span class="p">]</span>
<span class="n">tag</span>
<span class="c1"># &lt;b&gt;bold&lt;/b&gt;</span>

<span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># KeyError: 'id'</span>
<span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<div class="section" id="multi-valued-attributes">
<span id="multivalue"></span><h4>Multi-valued attributes<a class="headerlink" href="#multi-valued-attributes" title="Permalink to this headline">¶</a></h4>
<p>HTML 4 defines a few attributes that can have multiple values. HTML 5
removes a couple of them, but defines a few more. The most common
multi-valued attribute is <code class="docutils literal notranslate"><span class="pre">class</span></code> (that is, a tag can have more than
one CSS class). Others include <code class="docutils literal notranslate"><span class="pre">rel</span></code>, <code class="docutils literal notranslate"><span class="pre">rev</span></code>, <code class="docutils literal notranslate"><span class="pre">accept-charset</span></code>,
<code class="docutils literal notranslate"><span class="pre">headers</span></code>, and <code class="docutils literal notranslate"><span class="pre">accesskey</span></code>. Beautiful Soup presents the value(s)
of a multi-valued attribute as a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body']</span>

<span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body', 'strikeout']</span>
</pre></div>
</div>
<p>If an attribute <cite>looks</cite> like it has more than one value, but it’s not
a multi-valued attribute as defined by any version of the HTML
standard, Beautiful Soup will leave the attribute alone:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">id_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p id="my id"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">id_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'my id'</span>
</pre></div>
</div>
<p>When you turn a tag back into a string, multiple attribute values are
consolidated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rel_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p&gt;Back to the &lt;a rel="index"&gt;homepage&lt;/a&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">rel_soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'rel'</span><span class="p">]</span>
<span class="c1"># ['index']</span>
<span class="n">rel_soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'rel'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'index'</span><span class="p">,</span> <span class="s1">'contents'</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rel_soup</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
<span class="c1"># &lt;p&gt;Back to the &lt;a rel="index contents"&gt;homepage&lt;/a&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p>You can disable this by passing <code class="docutils literal notranslate"><span class="pre">multi_valued_attributes=None</span></code> as a
keyword argument into the <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no_list_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">no_list_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># 'body strikeout'</span>
</pre></div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">get_attribute_list</span></code> to get a value that’s always a
list, whether or not it’s a multi-valued atribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">id_soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">get_attribute_list</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span>
<span class="c1"># ["my id"]</span>
</pre></div>
</div>
<p>If you parse a document as XML, there are no multi-valued attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xml_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'xml'</span><span class="p">)</span>
<span class="n">xml_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># 'body strikeout'</span>
</pre></div>
</div>
<p>Again, you can configure this using the <code class="docutils literal notranslate"><span class="pre">multi_valued_attributes</span></code> argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">class_is_multi</span><span class="o">=</span> <span class="p">{</span> <span class="s1">'*'</span> <span class="p">:</span> <span class="s1">'class'</span><span class="p">}</span>
<span class="n">xml_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'xml'</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="n">class_is_multi</span><span class="p">)</span>
<span class="n">xml_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body', 'strikeout']</span>
</pre></div>
</div>
<p>You probably won’t need to do this, but if you do, use the defaults as
a guide. They implement the rules described in the HTML specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4.builder</span> <span class="kn">import</span> <span class="n">builder_registry</span>
<span class="n">builder_registry</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">'html'</span><span class="p">)</span><span class="o">.</span><span class="n">DEFAULT_CDATA_LIST_ATTRIBUTES</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="navigablestring">
<h2><code class="docutils literal notranslate"><span class="pre">NavigableString</span></code><a class="headerlink" href="#navigablestring" title="Permalink to this headline">¶</a></h2>
<p>A string corresponds to a bit of text within a tag. Beautiful Soup
uses the <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> class to contain these bits of text:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b class="boldest"&gt;Extremely bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="n">tag</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'Extremely bold'</span>
<span class="nb">type</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.NavigableString'&gt;</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> is just like a Python Unicode string, except
that it also supports some of the features described in <a class="reference internal" href="#navigating-the-tree">Navigating
the tree</a> and <a class="reference internal" href="#searching-the-tree">Searching the tree</a>. You can convert a
<code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> to a Unicode string with <code class="docutils literal notranslate"><span class="pre">str</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unicode_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="n">unicode_string</span>
<span class="c1"># 'Extremely bold'</span>
<span class="nb">type</span><span class="p">(</span><span class="n">unicode_string</span><span class="p">)</span>
<span class="c1"># &lt;type 'str'&gt;</span>
</pre></div>
</div>
<p>You can’t edit a string in place, but you can replace one string with
another, using <a class="reference internal" href="#replace-with"><span class="std std-ref">replace_with()</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="s2">"No longer bold"</span><span class="p">)</span>
<span class="n">tag</span>
<span class="c1"># &lt;b class="boldest"&gt;No longer bold&lt;/b&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> supports most of the features described in
<a class="reference internal" href="#navigating-the-tree">Navigating the tree</a> and <a class="reference internal" href="#searching-the-tree">Searching the tree</a>, but not all of
them. In particular, since a string can’t contain anything (the way a
tag may contain a string or another tag), strings don’t support the
<code class="docutils literal notranslate"><span class="pre">.contents</span></code> or <code class="docutils literal notranslate"><span class="pre">.string</span></code> attributes, or the <code class="docutils literal notranslate"><span class="pre">find()</span></code> method.</p>
<p>If you want to use a <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> outside of Beautiful Soup,
you should call <code class="docutils literal notranslate"><span class="pre">unicode()</span></code> on it to turn it into a normal Python
Unicode string. If you don’t, your string will carry around a
reference to the entire Beautiful Soup parse tree, even when you’re
done using Beautiful Soup. This is a big waste of memory.</p>
</div>
<div class="section" id="beautifulsoup">
<h2><code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code><a class="headerlink" href="#beautifulsoup" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object represents the parsed document as a
whole. For most purposes, you can treat it as a <a class="reference internal" href="#tag"><span class="std std-ref">Tag</span></a>
object. This means it supports most of the methods described in
<a class="reference internal" href="#navigating-the-tree">Navigating the tree</a> and <a class="reference internal" href="#searching-the-tree">Searching the tree</a>.</p>
<p>You can also pass a <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object into one of the methods
defined in <a class="reference internal" href="#modifying-the-tree">Modifying the tree</a>, just as you would a <a class="reference internal" href="#tag"><span class="std std-ref">Tag</span></a>. This
lets you do things like combine two parsed documents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;document&gt;&lt;content/&gt;INSERT FOOTER HERE&lt;/document"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
<span class="n">footer</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;footer&gt;Here's the footer&lt;/footer&gt;"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
<span class="n">doc</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">"INSERT FOOTER HERE"</span><span class="p">)</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">footer</span><span class="p">)</span>
<span class="c1"># 'INSERT FOOTER HERE'</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="c1"># &lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="c1"># &lt;document&gt;&lt;content/&gt;&lt;footer&gt;Here's the footer&lt;/footer&gt;&lt;/document&gt;</span>
</pre></div>
</div>
<p>Since the <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object doesn’t correspond to an actual
HTML or XML tag, it has no name and no attributes. But sometimes it’s
useful to look at its <code class="docutils literal notranslate"><span class="pre">.name</span></code>, so it’s been given the special
<code class="docutils literal notranslate"><span class="pre">.name</span></code> “[document]”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># '[document]'</span>
</pre></div>
</div>
</div>
<div class="section" id="comments-and-other-special-strings">
<h2>Comments and other special strings<a class="headerlink" href="#comments-and-other-special-strings" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Tag</span></code>, <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code>, and <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> cover almost
everything you’ll see in an HTML or XML file, but there are a few
leftover bits. The main one you’ll probably encounter
is the comment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;b&gt;&lt;!--Hey, buddy. Want to buy a used parser?--&gt;&lt;/b&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">comment</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">string</span>
<span class="nb">type</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.Comment'&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Comment</span></code> object is just a special type of <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comment</span>
<span class="c1"># 'Hey, buddy. Want to buy a used parser'</span>
</pre></div>
</div>
<p>But when it appears as part of an HTML document, a <code class="docutils literal notranslate"><span class="pre">Comment</span></code> is
displayed with special formatting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;b&gt;</span>
<span class="c1">#  &lt;!--Hey, buddy. Want to buy a used parser?--&gt;</span>
<span class="c1"># &lt;/b&gt;</span>
</pre></div>
</div>
<p>Beautiful Soup also defines classes called <code class="docutils literal notranslate"><span class="pre">Stylesheet</span></code>, <code class="docutils literal notranslate"><span class="pre">Script</span></code>,
and <code class="docutils literal notranslate"><span class="pre">TemplateString</span></code>, for embedded CSS stylesheets (any strings
found inside a <code class="docutils literal notranslate"><span class="pre">&lt;style&gt;</span></code> tag), embedded Javascript (any strings
found in a <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag), and HTML templates (any strings inside a
<code class="docutils literal notranslate"><span class="pre">&lt;template&gt;</span></code> tag). These classes work exactly the same way as
<code class="docutils literal notranslate"><span class="pre">NavigableString</span></code>; their only purpose is to make it easier to pick
out the main body of the page, by ignoring strings that represent
something else. <cite>(These classes are new in Beautiful Soup 4.9.0, and
the html5lib parser doesn’t use them.)</cite></p>
<p>Beautiful Soup defines classes for anything else that might show up in
an XML document: <code class="docutils literal notranslate"><span class="pre">CData</span></code>, <code class="docutils literal notranslate"><span class="pre">ProcessingInstruction</span></code>,
<code class="docutils literal notranslate"><span class="pre">Declaration</span></code>, and <code class="docutils literal notranslate"><span class="pre">Doctype</span></code>. Like <code class="docutils literal notranslate"><span class="pre">Comment</span></code>, these classes
are subclasses of <code class="docutils literal notranslate"><span class="pre">NavigableString</span></code> that add something extra to the
string. Here’s an example that replaces the comment with a CDATA
block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">CData</span>
<span class="n">cdata</span> <span class="o">=</span> <span class="n">CData</span><span class="p">(</span><span class="s2">"A CDATA block"</span><span class="p">)</span>
<span class="n">comment</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">cdata</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;b&gt;</span>
<span class="c1">#  &lt;![CDATA[A CDATA block]]&gt;</span>
<span class="c1"># &lt;/b&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="navigating-the-tree">
<h1>Navigating the tree<a class="head... (287 KB left)
message.txt
337 KB